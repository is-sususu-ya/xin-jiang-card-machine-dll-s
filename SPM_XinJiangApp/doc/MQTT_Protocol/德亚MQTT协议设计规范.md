# 德亚MQTT协议设计规范

## 技术背景
MQTT（Message Queuing Telemetry Transport，消息队列遥测传输协议）是IOT（Internet of Things）领域的一个主流协议，是一种基于发布/订阅（publish/subscribe）模式的"轻量级"通讯协议，该协议构建于TCP/IP协议上，由IBM在1999年发布。MQTT最大优点在于，可以以极少的代码和有限的带宽，为连接远程设备提供实时可靠的消息服务。作为一种低开销、低带宽占用的即时通讯协议，使其在物联网、小型设备、移动应用等方面有较广泛的应用。
MQTT是一个基于客户端-服务器的消息发布/订阅传输协议。MQTT协议是轻量、简单、开放和易于实现的，这些特点使它适用范围非常广泛。在很多情况下，包括受限的环境中，如：机器与机器（M2M）通信和物联网（IoT）。其在，通过卫星链路通信传感器、偶尔拨号的医疗设备、智能家居、及一些小型化设备中已广泛使用。

## 数据传输
设备与MQTT服务器通过4G网络或者有线网友进行信息交互，每一条消息均以一个报文发送，不分包发送。数据交互使用Json格式，中文编码使用UTF-8。

 
##  系统需求分析
对于嵌入式设备而言，一般需要基本的功能，比如OTA程序升级、设备控制、设备状态监测、日志上报分析、网络状态监测等功能。而对于嵌入式设备而言。由于终端设备多样、程序迭代多样，
我们需要维护不同硬件产品、不同的软件产品、甚至是不同的版本软件，因此对于主题而言，我们既需要提供基础的设备管理功能。也得具备细腻度的业务控制。因此主题设计需提供设备列出、设备基础控制、设备系统版本升级、反向架线通道、日志采集上报等基础功能。而具体业务主题既涉及到不同的产品线，不同的业务以及项目需求，分别做定义和实现。
系统主题的定义按照以下标准。
主题定义依照以下标准，企业名/产品/型号/项目/设备ID/业务功能码，其中“企业名/产品/型号/项目/”为程序固化内容，“”
 